---

title:  "[ALGORITHM]BOJ14500-í…ŒíŠ¸ë¡œë¯¸ë…¸"

excerpt: "#BOJ #SW #ì‚¼ì„±ì½”í…Œ"



categories:

- ALGORITHM

tags:

- ALGORITHM

- ì‚¼ì„±ì½”í…Œ

- BOJ

author_profile: true

read_time: false 

toc: true #Table Of Contents ëª©ì°¨ ë³´ì—¬ì¤Œ

toc_label: "Contents" # toc ì´ë¦„ ì •ì˜

toc_sticky: true # ìŠ¤í¬ë¡¤ ë‚´ë¦´ë•Œ ê°™ì´ ë‚´ë ¤ê°€ëŠ” ëª©ì°¨

---



## ë¬¸ì œ

í´ë¦¬ì˜¤ë¯¸ë…¸ë€ í¬ê¸°ê°€ 1Ã—1ì¸ ì •ì‚¬ê°í˜•ì„ ì—¬ëŸ¬ ê°œ ì´ì–´ì„œ ë¶™ì¸ ë„í˜•ì´ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.

- ì •ì‚¬ê°í˜•ì€ ì„œë¡œ ê²¹ì¹˜ë©´ ì•ˆ ëœë‹¤.
- ë„í˜•ì€ ëª¨ë‘ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.
- ì •ì‚¬ê°í˜•ì˜ ë³€ë¼ë¦¬ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ì¦‰, ê¼­ì§“ì ê³¼ ê¼­ì§“ì ë§Œ ë§ë‹¿ì•„ ìˆìœ¼ë©´ ì•ˆ ëœë‹¤.

ì •ì‚¬ê°í˜• 4ê°œë¥¼ ì´ì–´ ë¶™ì¸ í´ë¦¬ì˜¤ë¯¸ë…¸ëŠ” í…ŒíŠ¸ë¡œë¯¸ë…¸ë¼ê³  í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ 5ê°€ì§€ê°€ ìˆë‹¤.

[![img](https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/14500/1.png)](https://commons.wikimedia.org/wiki/File:All_5_free_tetrominoes.svg)

ì•„ë¦„ì´ëŠ” í¬ê¸°ê°€ NÃ—Mì¸ ì¢…ì´ ìœ„ì— í…ŒíŠ¸ë¡œë¯¸ë…¸ í•˜ë‚˜ë¥¼ ë†“ìœ¼ë ¤ê³  í•œë‹¤. ì¢…ì´ëŠ” 1Ã—1 í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆìœ¼ë©°, ê°ê°ì˜ ì¹¸ì—ëŠ” ì •ìˆ˜ê°€ í•˜ë‚˜ ì“°ì—¬ ìˆë‹¤.

í…ŒíŠ¸ë¡œë¯¸ë…¸ í•˜ë‚˜ë¥¼ ì ì ˆíˆ ë†“ì•„ì„œ í…ŒíŠ¸ë¡œë¯¸ë…¸ê°€ ë†“ì¸ ì¹¸ì— ì“°ì—¬ ìˆëŠ” ìˆ˜ë“¤ì˜ í•©ì„ ìµœëŒ€ë¡œ í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

í…ŒíŠ¸ë¡œë¯¸ë…¸ëŠ” ë°˜ë“œì‹œ í•œ ì •ì‚¬ê°í˜•ì´ ì •í™•íˆ í•˜ë‚˜ì˜ ì¹¸ì„ í¬í•¨í•˜ë„ë¡ ë†“ì•„ì•¼ í•˜ë©°, íšŒì „ì´ë‚˜ ëŒ€ì¹­ì„ ì‹œì¼œë„ ëœë‹¤.

### ì…ë ¥

ì²«ì§¸ ì¤„ì— ì¢…ì´ì˜ ì„¸ë¡œ í¬ê¸° Nê³¼ ê°€ë¡œ í¬ê¸° Mì´ ì£¼ì–´ì§„ë‹¤. (4 â‰¤ N, M â‰¤ 500)

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì— ì¢…ì´ì— ì“°ì—¬ ìˆëŠ” ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ië²ˆì§¸ ì¤„ì˜ jë²ˆì§¸ ìˆ˜ëŠ” ìœ„ì—ì„œë¶€í„° ië²ˆì§¸ ì¹¸, ì™¼ìª½ì—ì„œë¶€í„° jë²ˆì§¸ ì¹¸ì— ì“°ì—¬ ìˆëŠ” ìˆ˜ì´ë‹¤. ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ìˆ˜ëŠ” 1,000ì„ ë„˜ì§€ ì•ŠëŠ” ìì—°ìˆ˜ì´ë‹¤.

### ì¶œë ¥

ì²«ì§¸ ì¤„ì— í…ŒíŠ¸ë¡œë¯¸ë…¸ê°€ ë†“ì¸ ì¹¸ì— ì“°ì¸ ìˆ˜ë“¤ì˜ í•©ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.

### ì˜ˆì œ ì…ë ¥ 1

```
5 5
1 2 3 4 5
5 4 3 2 1
2 3 4 5 6
6 5 4 3 2
1 2 1 2 1
```

### ì˜ˆì œ ì¶œë ¥ 1

```
19
```

### ì˜ˆì œ ì…ë ¥ 2

```
4 5
1 2 3 4 5
1 2 3 4 5
1 2 3 4 5
1 2 3 4 5
```

### ì˜ˆì œ ì¶œë ¥ 2

```
20
```

### ì˜ˆì œ ì…ë ¥ 3

```
4 10
1 2 1 2 1 2 1 2 1 2
2 1 2 1 2 1 2 1 2 1
1 2 1 2 1 2 1 2 1 2
2 1 2 1 2 1 2 1 2 1
```

### ì˜ˆì œ ì¶œë ¥ 3

```
7
```



## ë‚˜ì˜ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main {
    static int[][] map;
    static int max = 0;
    static int N;
    static int M;

    public static void main(String[] args) throws Exception {
        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer input = new StringTokenizer(bufferedReader.readLine());
        N = Integer.parseInt(input.nextToken());
        M = Integer.parseInt(input.nextToken());
        map = new int[N][M];
        for (int i = 0; i < N; i++) {
            StringTokenizer str = new StringTokenizer(bufferedReader.readLine());
            for (int j = 0; j < M; j++) {
                map[i][j] = Integer.parseInt(str.nextToken());
            }
        }

        boolean[][] visited = new boolean[N][M];
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < M; j++) {
                visited[i][j] = true;
                Find(visited, j, i, 1, map[i][j]);
                visited[i][j] = false;
                max = Math.max(max, ExceptionShape(j, i));
            }
        }
        System.out.println(max);
    }

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};
    public static void Find(boolean[][] visited, int x, int y, int depth, int sum) {
        if (depth == 4) {
            max = Math.max(max, sum);
            return;
        }

        for (int i = 0; i < 4; i++) {
            int nextX = x + dx[i];
            int nextY = y + dy[i];

            if (nextX < 0 || nextY < 0 || nextX >= M || nextY >= N || visited[nextY][nextX]) continue;
            visited[nextY][nextX] = true;
            Find(visited, nextX, nextY, depth + 1, sum + map[nextY][nextX]);
            visited[nextY][nextX] = false;
        }
    }

    public static int ExceptionShape(int x, int y) {
        int size = 1;
        int sum = map[y][x];
        int minValue = Integer.MAX_VALUE;
        for (int i = 0; i < 4; i++) {
            int nextX = x + dx[i];
            int nextY = y + dy[i];

            if (nextX < 0 || nextY < 0 || nextX >= M || nextY >= N ) continue;
            size++;
            sum += map[nextY][nextX];
            minValue = Math.min(minValue, map[nextY][nextX]);
        }

        if (size == 4) return sum;
        else if (size == 5) return sum - minValue;
        else return 0;
    }
}
```

- ì´ì–´ì ¸ìˆëŠ” 4ê°œë¥¼ ì°¾ìœ¼ë©´ ë˜ë‹ˆê¹Œ DFSë¡œ ìš°ì„  íƒìƒ‰ì„ í–ˆë‹¤.

  ```java
  static int[] dx = {-1, 1, 0, 0};
  static int[] dy = {0, 0, -1, 1};
  public static void Find(boolean[][] visited, int x, int y, int depth, int sum) {
    if (depth == 4) {//4ì¹¸ì´ ë˜ë©´ ì§€ê¸ˆê¹Œì§€ 4ì¹¸ ë”í•œ ê°’ì„ ë¹„êµí–ˆë‹¤.
      max = Math.max(max, sum);
      return;//4ì¹¸ ë” ì´ìƒ ë³¼í•„ìš” ì—†ìœ¼ë¯€ë¡œ return ~
    }
    
    for (int i = 0; i < 4; i++) {
      int nextX = x + dx[i];
      int nextY = y + dy[i];
      
      if (nextX < 0 || nextY < 0 || nextX >= M || nextY >= N || visited[nextY][nextX]) continue;
      visited[nextY][nextX] = true;
      Find(visited, nextX, nextY, depth + 1, sum + map[nextY][nextX]);
      visited[nextY][nextX] = false;
    }
  }
  ```

  ê·¸ëƒ¥ 4ì¹¸ì„ íƒìƒ‰í•˜ëŠ” ë°©ì‹ì´ë‹¤ !

- í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•´ì„œ ëì´ ë‚˜ë©´ ì•ˆëœë‹¤. ì²˜ìŒì— ë‹µì´ ì™œ ì•ˆë‚˜ì˜¤ë‚˜ í–ˆëŠ”ë° DFSíƒìƒ‰ì—ì„œëŠ” å‡¸ ëª¨ì–‘ì´ ì•ˆë˜ê¸° ë•Œë¬¸ì´ë‹¤

  ğŸ‘‰ ë”°ë¼ì„œ ì´ ëª¨ì–‘ë§Œ ë”°ë¡œ ì²˜ë¦¬í•´ì£¼ì—ˆë‹¤.

  ```java
  public static int ExceptionShape(int x, int y) {
    int size = 1;//í˜„ì¬ ìê¸° ìì‹ 
    int sum = map[y][x];//í˜„ì¬ ìê¸° ìì‹ 
    int minValue = Integer.MAX_VALUE; //ìƒí•˜ì¢Œìš°ì¤‘ ê°€ì¥ ì‘ì€ ê²ƒ ê³ ë¥´ê¸° ìœ„í•´ì„œ
    for (int i = 0; i < 4; i++) {
      int nextX = x + dx[i];
      int nextY = y + dy[i];
      
      if (nextX < 0 || nextY < 0 || nextX >= M || nextY >= N ) continue;
      size++;//ìƒí•˜ì¢Œìš° ë³¼ë•Œë§ˆë‹¤ ì‚¬ì´ì¦ˆë¥¼ 1ì¦ê°€ì‹œí‚¨ë‹¤
      sum += map[nextY][nextX];//ìƒí•˜ì¢Œìš° ë³¼ë•Œë§ˆë‹¤ ê°’ì„ ë”í•œë‹¤
      minValue = Math.min(minValue, map[nextY][nextX]);//ìƒí•˜ì¢Œìš°ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì„ ë½‘ëŠ”ë‹¤
    }
  
    if (size == 4) return sum;//4ê°œë¼ë©´ ë”± å‡¸ ëª¨ì–‘ì´ë¯€ë¡œ ê·¸ ê°’ì„ returní•œë‹¤
    else if (size == 5) return sum - minValue;//5ê°œë¼ë©´ ê±°ê¸°ì„œ ì œì¼ ì‘ì€ ê²ƒì„ ë¹¼ë©´ ê°€ì¥ í° 4ê°œê°€ ëœë‹¤.
    else return 0;
  }
  ```

  ì´ ê²½ìš° í˜„ì¬ ìœ„ì¹˜ì—ì„œ ìƒí•˜ì¢Œìš°ë¥¼ ë³´ê³ , ìƒí•˜ì¢Œìš°ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì„ ë¹¼ë©´ ê·¸ê²ƒì´ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ì¥ í° å‡¸(íšŒì „ë ìˆ˜ë„ ìˆê³  ~ ) ì´ ë ê²ƒì´ë‹¤.







## ëŠë‚€ì 

ê°‘ìê¸° ë°±íŠ¸ë˜í‚¹ì„ì•ˆí•´ì„œ ì™œ ì•ˆë‚˜ì˜¤ì§€? ì´ëŸ¬ë‹¤ ë””ë²„ê¹… í•´ì„œì•¼ ì™œ ë‹µì´ ì•ˆë‚˜ì˜¨ì¤„ ì•Œì•˜ë‹¤..ì™œê·¸ë¬ì§€ í•˜~

- ë¬¸ì œ: https://www.acmicpc.net/problem/14500
- ì €ì¥ì†Œ: https://github.com/yoo-chaewon/HELLO_JAVA/blob/master/Algorithm/1.BOJ/SAMSUNG_SW/Q_14500_í…ŒíŠ¸ë¡œë¯¸ë…¸.java